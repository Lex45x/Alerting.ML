<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="Alerting.ML.App.App"
             RequestedThemeVariant="Dark">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceInclude Source="Styles/Colors.axaml" />
                <ResourceInclude Source="Theme/GradientButton.axaml" />
                <ResourceInclude Source="Theme/TransparentButton.axaml" />
                <ResourceInclude Source="Theme/DataSourceRadioButton.axaml" />
                <ResourceInclude Source="Theme/FilterRadioButton.axaml" />
                <ResourceInclude Source="Theme/IconButton.axaml" />
                <ResourceInclude Source="Theme/SearchBox.axaml" />
                <ResourceInclude Source="Theme/FileUploadButton.axaml" />
                <ResourceInclude Source="Theme/TableListBox.axaml" />
                <ResourceInclude Source="Theme/TrainingConfigurationSlider.axaml" />
                <ResourceInclude Source="Theme/TableDataGrid.axaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Application.Resources>

    <!-- =========================
       GLOBAL BASE STYLES
       ========================= -->
    <Application.Styles>
        <FluentTheme />
        <StyleInclude Source="avares://Avalonia.Controls.DataGrid/Themes/Fluent.xaml" />

        <!-- Body (Window) background + default text -->
        <Style Selector="Window">
            <Setter Property="Background" Value="{StaticResource Color.Bg}" />
            <Setter Property="Foreground" Value="{StaticResource Color.Foreground}" />
            <Setter Property="FontSize" Value="{StaticResource Text.Base}" />
            <Setter Property="FontWeight" Value="Normal" />
        </Style>

        <!-- Base typography (mirrors your :where(...) block) -->
        <Style Selector="TextBlock.h1">
            <Setter Property="FontSize" Value="{StaticResource Text.2Xl}" />
            <Setter Property="FontWeight" Value="Medium" />
        </Style>
        <Style Selector="TextBlock.h2">
            <Setter Property="FontSize" Value="{StaticResource Text.Xl}" />
            <Setter Property="FontWeight" Value="Medium" />
        </Style>
        <Style Selector="TextBlock.h3">
            <Setter Property="FontSize" Value="{StaticResource Text.Lg}" />
            <Setter Property="FontWeight" Value="Medium" />
        </Style>
        <Style Selector="TextBlock.h4">
            <Setter Property="FontSize" Value="{StaticResource Text.Base}" />
            <Setter Property="FontWeight" Value="Medium" />
        </Style>
        <Style Selector="TextBlock.p">
            <Setter Property="FontSize" Value="{StaticResource Text.Base}" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="Foreground" Value="{StaticResource Color.MutedForeground}" />
        </Style>
        <Style Selector="Label">
            <Setter Property="FontSize" Value="{StaticResource Text.Base}" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="Foreground" Value="{StaticResource Color.MutedForeground}" />
        </Style>

        <Style Selector="ListBox.cardsContainer">
            <Setter Property="Background" Value="{StaticResource Color.Bg}" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Margin" Value="0" />
        </Style>

        <Style Selector="ListBox.cardsContainer > ListBoxItem">
            <Setter Property="CornerRadius" Value="{StaticResource Radius.Lg}" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Margin" Value="0" />
        </Style>


        <!-- Utility classes for containers -->

        <Style Selector="Border.header">
            <Setter Property="Background" Value="{StaticResource Color.Bg2}" />
            <Setter Property="BorderBrush" Value="{StaticResource Color.Border}" />
            <Setter Property="BorderThickness" Value="0,0,0,1" />
        </Style>

        <Style Selector="Border.panel">
            <Setter Property="Background" Value="{StaticResource Color.Bg2}" />
            <Setter Property="BorderBrush" Value="{StaticResource Color.Border}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="CornerRadius" Value="12" />
        </Style>

        <Style Selector="Border.note">
            <Setter Property="Background" Value="{StaticResource Color.NoteBorder}" />
            <Setter Property="Padding" Value="12" />
            <Setter Property="CornerRadius" Value="8" />
        </Style>

        <Style Selector="Border.success">
            <Setter Property="Background" Value="{StaticResource Color.SuccessPanel}" />
            <Setter Property="BorderBrush" Value="{StaticResource Color.SuccessPanelBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="16" />
            <Setter Property="CornerRadius" Value="8" />
        </Style>

        <Style Selector="Border.failure">
            <Setter Property="Background" Value="{StaticResource Color.FailurePanel}" />
            <Setter Property="BorderBrush" Value="{StaticResource Color.FailurePanelBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="16" />
            <Setter Property="CornerRadius" Value="8" />
        </Style>

        <Style Selector="Label.trainingState">
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Style Selector="^[Content=Completed]">
                <Setter Property="Background" Value="{StaticResource Color.SuccessPanel}" />
                <Setter Property="Foreground" Value="{StaticResource Color.SuccessForeground}" />
                <Setter Property="BorderBrush" Value="{StaticResource Color.SuccessPanelBorder}" />
            </Style>
            <Style Selector="^[Content=Paused]">
                <Setter Property="Background" Value="{StaticResource Color.PausedPanel}" />
                <Setter Property="Foreground" Value="{StaticResource Color.PausedForeground}" />
                <Setter Property="BorderBrush" Value="{StaticResource Color.PausedPanelBorder}" />
            </Style>
            <Style Selector="^[Content=Training]">
                <Setter Property="Background" Value="{StaticResource Color.TrainingPanel}" />
                <Setter Property="Foreground" Value="{StaticResource Color.TrainingForeground}" />
                <Setter Property="BorderBrush" Value="{StaticResource Color.TrainingPanelBorder}" />
            </Style>
            <Style Selector="^[Content=Failed]">
                <Setter Property="Background" Value="{StaticResource Color.FailurePanel}" />
                <Setter Property="Foreground" Value="{StaticResource Color.FailureForeground}" />
                <Setter Property="BorderBrush" Value="{StaticResource Color.FailurePanelBorder}" />
            </Style>
        </Style>

    </Application.Styles>
</Application>